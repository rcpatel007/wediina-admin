<div id="main">
  <!-- START WRAPPER -->
  <div class="wrapper">
    <app-header></app-header>

    <section id="content" class="mr-t-20">
      <!--start container-->
      <div class="container">
        <div class="section">
          <!--card stats start-->
          <div id="card-stats">
            <div class="row">
              <div class="col s6 l6 m6">
                <div class="col s2 l2 m2 headding-icon dark-blue-back">
                  <i class="fa fa-boxes"></i>
                </div>
                <div class="hedding-text p-l-80">
                  BRAND MANAGEMENT
                </div>
              </div>

              <form materialize *ngIf="b_add == true" #frm="ngForm" (ngSubmit)="addBrand()">
                <div class="col s12 l12 m12 right-align mr-t-20 mr-b-m-30">
                  <div class="input-field col s12">
                    <input name="name" type="text" #brandname="ngModel" [(ngModel)]="name" pattern="[a-zA-Z][a-zA-Z ]+" required ngModel class="validate">
                    <label for="brandname">Add Brand</label>
                    <!-- <a materialize="tooltip" class="btn tooltipped" data-position="bottom" data-delay="50" data-tooltip="I am tooltip">Hover me!</a> -->
                    <div *ngIf="brandname?.touched">
                      <div class="red-text left" *ngIf="brandname.errors?.required">
                        Brand Name Required*
                      </div>
                      <div class="red-text left" *ngIf="brandname.errors?.pattern">
                        Brand Name is Invalid*
                      </div>
                    </div>
                  </div>
                  <button class=" btn btn-primary" [disabled]="frm.invalid" onclick="Materialize.toast('brand ADDED', 3000)" type="submit">ADD </button>
                </div>
              </form>
            </div>
          </div>
          <!--card stats end-->

          <!--DataTables example Row grouping-->
          <div class="section">
            <div class="row ">
              <div class="col s12 card mr-t-50">
                <div class="col s3 right">
                  <input type="text" placeholder="Search" id="search" [(ngModel)]="term">
                </div>

                <table class="display mr-t-20 striped" cellspacing="0" width="100%">
                  <thead>
                    <tr>
                      <th>No</th>
                      <th>Name</th>
                      <th colspan="3">Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let b of brand |filter:term; let i =index">
                      <td>{{i+1}}</td>
                      <td>{{b.name}}</td>
                      <td *ngIf="b_edit == true" data-target="edit_brand" class=" modal-trigger" (click)="getBrandById(b._id) ">
                        <i class="fa fa-pencil-alt orange-text"></i>
                      </td>
                      <td *ngIf="b_delete == true" (click)="delete(b._id)">
                        <i class="fa fa-trash red-text "></i>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>

            </div>
          </div>
        </div>

      </div>
      <!--end container-->
    </section>


  </div>
</div>


<div id="edit_brand" class="modal">
  <div class="modal-content">

    <div class="col s12">
      <h5> Product Details</h5>
    </div>
    <div class="col s12">

      <form #frm2="ngForm" (ngSubmit)="editBrand()">
        <div class="col s12 l12 m12  mr-t-20 mr-b-m-30">
          <div class="input-field col s12">
            <b>Edit Brand:</b>
            <input #editbrand="ngModel" id="brand" name="brand" type="text" [(ngModel)]="name" pattern="[a-zA-Z][a-zA-Z ]+" required
              ngModel class="validate">
          </div>
          <div *ngIf="editbrand?.touched">
            <div class="red-text left" *ngIf="editbrand.errors?.required">
              Brand Name Required*
            </div>
            <div class="red-text left" *ngIf="editbrand.errors?.pattern">
              Brand Name is Invalid*
            </div>
          </div>
          <div class="right-align">
            <button class="btn btn-primary modal-close" [disabled]="frm2.invalid" onclick="Materialize.toast('brand ADDED', 3000)" type="submit">Update </button>
          </div>
        </div>
      </form>

    </div>
  </div>

</div>
<script>
  $(document).ready(function () {
    // the "href" attribute of the modal trigger must specify the modal ID that wants to be triggered
    $('.modal').modal();
  });

</script>